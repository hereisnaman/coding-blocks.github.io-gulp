"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(l,t,e,a){var s={API_URL:"https://api.instagram.com/v1",initialize:function(t,e){this.elem=e,this.$elem=l(e),this.accessData=l.fn.spectragram.accessData,this.accessToken=this.accessData.accessToken,this.clientID=this.accessData.clientID,this.userCredentials=this.clientID+"&access_token="+this.accessToken,this.options=l.extend({},l.fn.spectragram.options,t),this.messages={defaultImageAltText:"Instagram Photo related with "+this.options.query,notFound:"This user account is private or doesn't have any photos."}},getRecentMedia:function(t){var e=this,a="/users/"+t+"/media/recent/?"+e.userCredentials;e.fetch(a).done(function(t){e.display(t)})},getUserFeed:function(){var s=this,t="/users/search?q="+s.options.query+"&count="+s.options.max+"&access_token="+s.accessToken,i=!1;s.fetch(t).done(function(t){if(t.data.length)for(var e=t.data.length,a=0;a<e;a++)t.data[a].username===s.options.query&&(s.getRecentMedia(t.data[a].id),i=!0);!1===i&&l.error("Spectragram.js - Error: the username "+s.options.query+" does not exist.")})},getPopular:function(){var e=this,t="/media/popular?client_id="+e.userCredentials;e.fetch(t).done(function(t){e.display(t)})},getRecentTagged:function(){var e=this,t="/tags/"+e.options.query+"/media/recent?client_id="+e.userCredentials;e.fetch(t).done(function(t){t.data.length?e.display(t):l.error("Spectragram.js - Error: the tag "+e.options.query+" does not have results.")})},fetch:function(t){var e=this.API_URL+t;return l.ajax({type:"GET",dataType:"jsonp",cache:!1,url:e})},display:function(t){var e,a,s,i,n,o,r,c,h,d=[];if(s=0===l(this.options.wrapEachWith).length,void 0===t.data||200!==t.meta.code||0===t.data.length)s?this.$elem.append(this.messages.notFound):this.$elem.append(l(this.options.wrapEachWith).append(this.messages.notFound));else{r=this.options.max>=t.data.length?t.data.length:this.options.max,c=this.options.size;for(var u=0;u<r;u++)"small"===c?(h=t.data[u].images.thumbnail.url,n=t.data[u].images.thumbnail.height,o=t.data[u].images.thumbnail.width):"medium"===c?(h=t.data[u].images.low_resolution.url,n=t.data[u].images.low_resolution.height,o=t.data[u].images.low_resolution.width):(h=t.data[u].images.standard_resolution.url,n=t.data[u].images.standard_resolution.height,o=t.data[u].images.standard_resolution.width),i=null!==t.data[u].caption?l("<span>").text(t.data[u].caption.text).html():this.messages.defaultImageAltText,a=l("<img>",{alt:i,attr:{height:n,width:o},src:h}),e=l("<a>",{href:t.data[u].link,target:"_blank",title:i}).append(a),s?d.push(e):d.push(l(this.options.wrapEachWith).append(e));this.$elem.append(d)}"function"==typeof this.options.complete&&this.options.complete.call(this)}};jQuery.fn.spectragram=function(e,a){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var t=Object.create(s);if(t.initialize(a,this),t[e])return t[e](this);l.error("Method "+e+" does not exist on jQuery.spectragram")}):l.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={complete:null,max:10,query:"instagram",size:"medium",wrapEachWith:"<li></li>"},jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}}(jQuery,window,document);